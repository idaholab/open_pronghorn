[Tests]
  issues = '#23'
  design = 'bfs.md'
  [channel]
    type = RunApp
    input = 'bfs_init_fully_developed_channel.i'
    min_parallel = 24
    cli_args = "Executioner/num_iterations=100"
    capabilities = 'method!=dbg'
    mesh_mode = 'replicated'
    requirement = "The system shall be able to run a channel simulation to establish a fully developed flow profile."
    # quad conversion warning (to be removed)
    allow_warnings = true
  []
  [bfs_030_standard]
    type = CSVDiff
    input = 'bfs_input.i'
    csvdiff = 'k_epsilon_standard.csv k_epsilon_standard_inlet_channel_wall_sampler_0002.csv k_epsilon_standard_outlet_channel_wall_sampler_0002.csv k_epsilon_standard_vel_x_xoH_1_sampler_0002.csv k_epsilon_standard_vel_x_xoH_4_sampler_0002.csv k_epsilon_standard_vel_x_xoH_6_sampler_0002.csv k_epsilon_standard_vel_x_xoH_10_sampler_0002.csv'
    requirement = 'The system should be able to accurately simulate turbulent flow in a channel with rear-facing step at a Reynolds number of 5000 using the linear finite volume discretization and a standard K-Epsilon turbulence model.'
    min_parallel = 24
    max_time = 10000
    # The tolerance is hardcoded at max increase of 1% in the current error
    validation_test = 'bfs_vnv_script_vector.py'
    # Toletance for comparison to gold files
    rel_err = 1e-4
    abs_zero = 1e-6
    # Correct base file
    cli_args = 'Outputs/file_base=k_epsilon_standard k_epsilon_variant=Standard'
  []
  [bfs_030_realizable]
    type = CSVDiff
    input = 'bfs_input.i'
    csvdiff = 'k_epsilon_realizable.csv k_epsilon_realizable_inlet_channel_wall_sampler_0002.csv k_epsilon_realizable_outlet_channel_wall_sampler_0002.csv k_epsilon_realizable_vel_x_xoH_1_sampler_0002.csv k_epsilon_realizable_vel_x_xoH_4_sampler_0002.csv k_epsilon_realizable_vel_x_xoH_6_sampler_0002.csv k_epsilon_realizable_vel_x_xoH_10_sampler_0002.csv'
    requirement = 'The system should be able to accurately simulate turbulent flow in a channel with rear-facing step at a Reynolds number of 5000 using the linear finite volume discretization and a standard K-Epsilon turbulence model.'
    min_parallel = 24
    max_time = 10000
    # The tolerance is hardcoded at max increase of 1% in the current error
    validation_test = 'bfs_vnv_script_vector.py'
    # Toletance for comparison to gold files
    rel_err = 1e-4
    abs_zero = 1e-6
    # Correct base file
    cli_args = 'Outputs/file_base=k_epsilon_realizable k_epsilon_variant=Realizable'
  []
  [bfs_030_realizable_two_layer]
    type = CSVDiff
    input = 'bfs_input.i'
    csvdiff = 'k_epsilon_realizable_two_layer.csv k_epsilon_realizable_two_layer_inlet_channel_wall_sampler_0002.csv k_epsilon_realizable_two_layer_outlet_channel_wall_sampler_0002.csv k_epsilon_realizable_two_layer_vel_x_xoH_1_sampler_0002.csv k_epsilon_realizable_two_layer_vel_x_xoH_4_sampler_0002.csv k_epsilon_realizable_two_layer_vel_x_xoH_6_sampler_0002.csv k_epsilon_realizable_two_layer_vel_x_xoH_10_sampler_0002.csv'
    requirement = 'The system should be able to accurately simulate turbulent flow in a channel with rear-facing step at a Reynolds number of 5000 using the linear finite volume discretization and a standard K-Epsilon turbulence model.'
    min_parallel = 24
    max_time = 10000
    # The tolerance is hardcoded at max increase of 1% in the current error
    validation_test = 'bfs_vnv_script_vector.py'
    # Toletance for comparison to gold files
    rel_err = 1e-4
    abs_zero = 1e-6
    # Correct base file
    cli_args = 'Outputs/file_base=k_epsilon_realizable_two_layer k_epsilon_variant=RealizableTwoLayer'
  []
  [bfs_030_realizable_quadratic]
    type = CSVDiff
    input = 'bfs_input.i'
    csvdiff = 'k_epsilon_realizable_quadratic.csv k_epsilon_realizable_quadratic_inlet_channel_wall_sampler_0002.csv k_epsilon_realizable_quadratic_outlet_channel_wall_sampler_0002.csv k_epsilon_realizable_quadratic_vel_x_xoH_1_sampler_0002.csv k_epsilon_realizable_quadratic_vel_x_xoH_4_sampler_0002.csv k_epsilon_realizable_quadratic_vel_x_xoH_6_sampler_0002.csv k_epsilon_realizable_quadratic_vel_x_xoH_10_sampler_0002.csv'
    requirement = 'The system should be able to accurately simulate turbulent flow in a channel with rear-facing step at a Reynolds number of 5000 using the linear finite volume discretization and a standard K-Epsilon turbulence model.'
    min_parallel = 24
    max_time = 10000
    # The tolerance is hardcoded at max increase of 1% in the current error
    validation_test = 'bfs_vnv_script_vector.py'
    # Toletance for comparison to gold files
    rel_err = 1e-4
    abs_zero = 1e-6
    # Correct base file
    cli_args = 'Outputs/file_base=k_epsilon_realizable_quadratic k_epsilon_variant=Realizable nonlinear_model=quadratic'
  []
  [bfs_030_realizable_cubic]
    type = CSVDiff
    input = 'bfs_input.i'
    csvdiff = 'k_epsilon_realizable_cubic.csv k_epsilon_realizable_cubic_inlet_channel_wall_sampler_0002.csv k_epsilon_realizable_cubic_outlet_channel_wall_sampler_0002.csv k_epsilon_realizable_cubic_vel_x_xoH_1_sampler_0002.csv k_epsilon_realizable_cubic_vel_x_xoH_4_sampler_0002.csv k_epsilon_realizable_cubic_vel_x_xoH_6_sampler_0002.csv k_epsilon_realizable_cubic_vel_x_xoH_10_sampler_0002.csv'
    requirement = 'The system should be able to accurately simulate turbulent flow in a channel with rear-facing step at a Reynolds number of 5000 using the linear finite volume discretization and a standard K-Epsilon turbulence model.'
    min_parallel = 24
    max_time = 10000
    # The tolerance is hardcoded at max increase of 1% in the current error
    validation_test = 'bfs_vnv_script_vector.py'
    # Toletance for comparison to gold files
    rel_err = 1e-4
    abs_zero = 1e-6
    # Correct base file
    cli_args = 'Outputs/file_base=k_epsilon_realizable_cubic k_epsilon_variant=Realizable nonlinear_model=cubic'
  []
[]
