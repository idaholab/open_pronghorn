[Tests]
  issues = '#23'
  design = 'bfs.md'
  [channel]
    type = RunApp
    input = 'bfs_init_fully_developed_channel.i'
    min_parallel = 10
    cli_args = "Executioner/num_iterations=100"
    capabilities = 'method!=dbg'
    mesh_mode = 'replicated'
    requirement = "The system shall be able to run a channel simulation to establish a fully developed flow profile."
    # quad conversion warning (to be removed)
    allow_warnings = true
  []
  [bfs_030]
    type = CSVDiff
    input = 'bfs_input.i'
    csvdiff = 'bfs_input_csv.csv bfs_input_csv_inlet_channel_wall_sampler_0002.csv bfs_input_csv_outlet_channel_wall_sampler_0002.csv bfs_input_csv_vel_x_xoH_1_sampler_0002.csv bfs_input_csv_vel_x_xoH_4_sampler_0002.csv bfs_input_csv_vel_x_xoH_6_sampler_0002.csv bfs_input_csv_vel_x_xoH_10_sampler_0002.csv'
    # The convergence of the fields is good in CFD terms but the defaults on this are a bit too strict
    abs_zero = 1e-6
    rel_err = 5e-5
    requirement = 'The system should be able to accurately simulate turbulent flow in a channel with rear-facing step at a Reynolds number of 5000 using the linear finite volume discretization and a standard K-Epsilon turbulence model.'
    min_parallel = 10
    max_time = 1000
    # The tolerance is hardcoded at max increase of 1% in the current error
    validation_test = 'bfs_vnv_script_vector.py'
  []
[]
